"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}document.addEventListener("DOMContentLoaded",function(){var c=document.getElementById("audio-player"),o=document.querySelector(".play i"),e=document.querySelector(".prev"),t=document.querySelector(".next"),n=document.querySelector(".shuffle"),a=document.querySelector(".show-playlist"),s=document.getElementById("progress"),r=document.querySelector(".music-player"),i=document.querySelector(".music-suggestions"),l=document.querySelector(".refresh"),u=document.getElementById("album-cover"),d=document.getElementById("song-name"),p=document.getElementById("artist-name"),y=document.getElementById("current-time"),f=document.getElementById("total-time"),m=0,v=[],g=null,L="";function h(t){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:c.src=t.src,u.src=t.cover,d.textContent=t.name,p.textContent=t.artist,c.load();case 5:case"end":return e.stop()}})}function E(){c.paused?(c.play(),o.classList.replace("fa-play","fa-pause")):(c.pause(),o.classList.replace("fa-pause","fa-play"))}function b(){m=(m+1)%v.length,h(v[m]).then(function(){c.play(),o.classList.replace("fa-play","fa-pause")})}function S(){for(var e;(e=Math.floor(Math.random()*v.length))===m;);h(v[m=e]).then(function(){c.play(),o.classList.replace("fa-play","fa-pause")})}function q(){var n=document.getElementById("suggestions-grid");n.innerHTML="",_toConsumableArray(songs).sort(function(){return Math.random()-.5}).forEach(function(t){var e=document.createElement("div");e.classList.add("song-item"),e.setAttribute("data-src",t.src),e.innerHTML='\n                <img src="'.concat(t.cover,'" alt="').concat(t.name,'">\n                <div class="song-info">\n                    <p class="song-title">').concat(t.name,'</p>\n                    <p class="artist">').concat(t.artist,'</p>\n                </div>\n                <div class="play-icon">\n                    <i class="fa-solid fa-play"></i>\n                </div>\n            '),e.addEventListener("click",function(){return k(t)}),e.querySelector(".play-icon").addEventListener("click",function(e){e.stopPropagation(),k(t)}),n.appendChild(e)})}function k(t){"songs"!==L&&(L="songs",v=songs),-1===(m=v.findIndex(function(e){return e.src===t.src}))&&(v.push(t),m=v.length-1),h(v[m]).then(function(){c.play(),o.classList.replace("fa-play","fa-pause"),r.classList.add("visible"),g&&g.classList.remove("playing"),(g=document.querySelector('.song-item[data-src="'.concat(t.src,'"]')))&&g.classList.add("playing")})}function w(e){var t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t,":").concat(n<10?"0":"").concat(n)}s.addEventListener("input",function(){var e=s.value/100*c.duration;c.currentTime=e}),document.querySelectorAll(".album-item").forEach(function(t){t.addEventListener("click",function(){var e=t.querySelector("h3").textContent;if("album"===L&&v===albums[e])return r.classList.remove("visible"),c.pause(),o.classList.replace("fa-pause","fa-play"),void(i.style.display="block");L="album",h((v=albums[e])[m=0]).then(function(){r.classList.add("visible"),i.style.display="none",setTimeout(function(){c.play(),o.classList.replace("fa-play","fa-pause")},500)})})}),document.querySelectorAll(".playlist-item").forEach(function(t){t.addEventListener("click",function(){var e=t.querySelector("h3").textContent;if("playlist"===L&&v===playlists[e])return r.classList.remove("visible"),c.pause(),o.classList.replace("fa-pause","fa-play"),void(i.style.display="block");L="playlist",h((v=playlists[e])[m=0]).then(function(){r.classList.add("visible"),i.style.display="none",setTimeout(function(){c.play(),o.classList.replace("fa-play","fa-pause")},500)})})}),c.addEventListener("ended",b),c.addEventListener("timeupdate",function(){!function(){var e=c.currentTime/c.duration*100;s.value=e}(),y.textContent=w(c.currentTime)}),c.addEventListener("loadedmetadata",function(){f.textContent=w(c.duration)}),o.addEventListener("click",E),t.addEventListener("click",b),e.addEventListener("click",function(){m=(m-1+v.length)%v.length,h(v[m]).then(function(){c.play(),o.classList.replace("fa-play","fa-pause")})}),n.addEventListener("click",S),a.addEventListener("click",function(){var a=document.querySelector(".playlist-songs");a||((a=document.createElement("ul")).classList.add("playlist-songs"),document.body.appendChild(a)),a.innerHTML="",v.forEach(function(e,t){var n=document.createElement("li");n.textContent="".concat(e.name," - ").concat(e.artist),n.addEventListener("click",function(){h(v[m=t]).then(function(){c.play(),o.classList.replace("fa-play","fa-pause")})}),a.appendChild(n)}),a.style.display="none"===a.style.display?"block":"none"}),l.addEventListener("click",q),document.querySelector(".logo img").addEventListener("click",function(){location.reload()}),q(),window.playAudio=k,window.playPause=E,window.nextSong=b,window.shuffleSong=S});
//# sourceMappingURL=app.min.js.map
